<div class="container">

    <h2>Créer un utilisateur</h2> 

    <hr />

    <form [formGroup]="userForm" (ngSubmit)="onSubmit()" class="p-4 bg-light rounded">

    <div class="mb-3">
        <label for="firstName" class="form-label">Prénom</label>
        <input
        type="text"
        id="firstName"
        class="form-control"
        formControlName="firstName"
        />
        <div *ngIf="userForm.get('firstName')?.touched && userForm.get('firstName')?.invalid">
            <small class="error">Le prénom est requis.</small>
        </div>
    </div>

    <div class="mb-3">
        <label for="lastName" class="form-label">Nom</label>
        <input
        type="text"
        id="lastName"
        class="form-control"
        formControlName="lastName"
        />
        <div *ngIf="userForm.get('lastName')?.touched && userForm.get('lastName')?.invalid">
            <small class="error">Le nom est requis.</small>
        </div>
    </div>

    <div class="mb-3">
        <label for="email" class="form-label">Email</label>
        <input
        type="email"
        id="email"
        class="form-control"
        formControlName="email"
        />
        <div *ngIf="userForm.get('email')?.touched && userForm.get('email')?.invalid">
            <small class="error">L'email est requis.</small>
        </div>
    </div>

    <div class="mb-3">
        <label for="userType" class="form-label">Type d'utilisateur</label>
        <select id="userType" class="form-select" formControlName="userType">
        <option *ngFor="let type of userTypesList" [value]="type.type">{{ type.type }}</option>
        </select>
        <div *ngIf="userForm.get('userType')?.touched && userForm.get('userType')?.invalid">
            <small class="error">Le type d'utilisateur est requis.</small>
        </div>
    </div>

    <button type="submit" class="btn btn-primary" [disabled]="userForm.invalid">
        Enregistrer
    </button>
    </form>


    <hr />

    <button [routerLink]="['/users']"  class="btn btn-primary">⬅ Retour à la liste des utilisateurs</button>


    


</div>